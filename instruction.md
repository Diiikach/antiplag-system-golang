# Инструкция по использованию проекта "Антиплагиат"

## Основные возможности:
- **Загрузка работ:** Студент отправляет файл работы с указанием имени и задания.
- **Анализ на плагиат:** Каждая работа автоматически сравнивается с другими сданными по тому же заданию — даже если файлы переписаны или изменён порядок.
- **Отчёты для преподавателя:** Можно получить аналитику (флаги плагиата и степень схожести) по всем работам любого задания.
- **Векторная БД (Qdrant):** Для поиска не только идентичных, но и подозрительно похожих работ, применён векторный сравнительный анализ.
- **Микросервисная архитектура:** Каждый сервис отвечает только за свою зону ответственности (хранение файлов, анализ, маршрутизация).
- **Контейнеризация:** Весь проект запускается одной командой.

---

## Как запустить
1. Клонируйте репозиторий:
   ```bash
   git clone <repo_url>
   cd software-design-hw3
   ```
2. Запустите все сервисы (Docker и docker-compose должны быть установлены):
   ```bash
   docker compose up --build
   ```
3. После запуска доступны:
   - **API Gateway:** http://localhost:8000
   - **Документация/пример Postman:** файл postman_collection.json
   
---

## Базовые сценарии использования

### 1. Загрузка работы
**POST** `/api/submit`
- `file` — файл работы
- `sender` — ФИО сдающего
- `work_id` — идентификатор задания

Пример через curl:
```bash
curl -F "file=@yourfile.txt" -F "sender=Иванов Иван" -F "work_id=hw1" http://localhost:8000/api/submit
```

### 2. Получение отчёта по заданиям
**GET** `/api/works/{work_id}/reports`

Пример через curl:
```bash
curl http://localhost:8000/api/works/hw1/reports
```

Ответ содержит JSON-отчёты всех сдач с флагом плагиата и степенью схожести.

---

## Архитектура
- **Gateway** (`:8000`): Принимает всё, проксирует между сервисами.
- **file_storing** (`:8001`): Сохраняет/выдаёт файлы работ
- **file_analysis** (`:8002`): Анализирует на плагиат, ищет похожие работы в Qdrant
- **Qdrant** (`:6333`): Хранит векторные представления работ

---

## Дополнительно
- Добавлены docker-файлы, .gitignore
- Микросервисы полностью на Go
- Вы можете расширять аналитику, интегрировать визуализацию, менять алгоритм сравнения

---

> Для более подробной архитектуры и API — смотрите README.md и postman_collection.json
